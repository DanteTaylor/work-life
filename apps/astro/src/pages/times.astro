---
import { client } from '../lib/sanity'

const posts = await client.fetch(`*[_type == "post"] | order(publishedAt desc)`)
---

<html>
  <body>
    <main>
    <header>
      <h1>Voice</h1>
    </header>
    {posts.length === 0 && <p>No posts found</p>}
    <section aria-label="Voice blog post list">
    {posts.map(post => (
      <article>
        <h2>
          <a href={`/times/${post.slug.current}`}>
            {post.title}
          </a>
        </h2>
        <p>{post.excerpt}</p>
      </article>
    ))}
    </section>
    </main>
  </body>
</html>